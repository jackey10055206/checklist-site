{
  "lastUpdated": "2026-02-05T05:20:30.000Z",
  "project": {
    "name": "Strapi Portfolio Upload + Review Workflow",
    "publicSafe": true
  },
  "statusRows": [
    {
      "area": "Strapi",
      "task": "新增 portfolio.review_status（審核狀態）",
      "owner": "subagent-strapi-review-workflow",
      "status": "done",
      "notes": "已產出可直接照做的 Strapi 步驟/程式片段：新增 review_status + submitted_at/reviewed_at，並可用 controller 強制 Public 只能讀 approved+published。"
    },
    {
      "area": "前台網站",
      "task": "Portfolio 對外只顯示 approved + published",
      "owner": "main",
      "status": "todo",
      "notes": "API 查詢/前端取資料要加 filter，避免未審內容外露。"
    },
    {
      "area": "上傳入口（Upload Portal）",
      "task": "架構設計：整合進既有 Next app 的 /portal",
      "owner": "subagent-upload-portal-architecture",
      "status": "done",
      "notes": "建議整合現有 Next.js（App Router）新增 /portal；帳密登入+bcrypt+cookie session；所有寫入由 Next 伺服器端代打 Strapi（token 不下放）。"
    },
    {
      "area": "上傳入口（Upload Portal）",
      "task": "MVP 實作：登入 + 表單骨架 + API route stubs",
      "owner": "subagent-upload-portal-implementation",
      "status": "done",
      "notes": "已做出可跑的 MVP（demo 登入、角色守門、submit 表單骨架、API stubs）。下一步是把它整合/搬進既有 Next 專案並接 Strapi。"
    },
    {
      "area": "Workflow",
      "task": "Uploader 修改已發布內容 → 自動下線（unpublish）+ 回 pending",
      "owner": "subagent-upload-portal-architecture",
      "status": "done",
      "notes": "規則已定案：在 Upload Portal 的 server 端 PATCH 強制；若 uploader 編輯 approved+published，則 unpublish 並回 pending，需 admin 再審再 publish。"
    },
    {
      "area": "部署",
      "task": "checklist.jackeyluo.me 對外上線（Cloudflare Pages + Git）",
      "owner": "main",
      "status": "inprogress",
      "notes": "Cloudflare Pages 連 Git 部署中；若綁自訂網域時 DNS 記錄顯示 read-only，需先到 DNS 解除/刪掉衝突記錄後再綁。"
    }
  ],
  "agents": [
    {
      "key": "A",
      "name": "subagent-strapi-review-workflow",
      "goal": "在 Strapi 實作 portfolio 審核狀態欄位與 Public 讀取限制（公開安全）。",
      "deliverables": ["Strapi UI 步驟", "schema.json 片段", "controller 覆寫（Public 只讀 approved+published）"],
      "status": "done"
    },
    {
      "key": "B",
      "name": "subagent-upload-portal-architecture",
      "goal": "定義 Upload Portal 架構與安全邊界（整合 /portal）。",
      "deliverables": ["路由/資料夾結構", "登入/角色模型", "API routes 規格與狀態機"],
      "status": "done"
    },
    {
      "key": "C",
      "name": "subagent-upload-portal-implementation",
      "goal": "先把 Upload Portal MVP 跑起來（登入 + 表單骨架 + server routes stubs），之後再接 Strapi。",
      "deliverables": ["可本機跑的 Next app", "登入頁/守門", "上傳表單骨架"],
      "status": "done"
    }
  ],
  "activity": [
    {
      "time": "2026-02-05T03:58:00.000Z",
      "type": "note",
      "text": "規格確認：Uploader 修改已發布內容 → 立刻 unpublish 並回 pending；Uploader 只能看自己的資料。"
    },
    {
      "time": "2026-02-05T05:10:00.000Z",
      "type": "spawn",
      "text": "已啟動 3 個子 agent：A(Strapi review_status)、B(Upload Portal 架構)、C(Upload Portal MVP 實作)。"
    },
    {
      "time": "2026-02-05T05:13:00.000Z",
      "type": "done",
      "text": "子 agent B 完成：建議整合現有 Next.js 新增 /portal，上傳/審核皆由 Next server 端代打 Strapi，並定義狀態機與權限。"
    },
    {
      "time": "2026-02-05T05:13:30.000Z",
      "type": "done",
      "text": "子 agent A 完成：提供 Strapi 端新增 review_status 與 Public API 只讀 approved+published 的 controller 覆寫方案。"
    },
    {
      "time": "2026-02-05T05:20:00.000Z",
      "type": "done",
      "text": "子 agent C 完成：已在本機建立可跑的 Upload Portal MVP（demo 登入、角色守門、提交表單骨架、API stubs），待整合進既有 Next 專案並接 Strapi。"
    }
  ]
}
